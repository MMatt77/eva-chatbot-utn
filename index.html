<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVA - Asistente de Educaci√≥n a Distancia</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }

        .chat-container {
            width: 100%;
            max-width: 800px;
            height: 95vh;
            max-height: 700px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
            padding: 15px 20px;
            text-align: center;
            flex-shrink: 0;
        }

        .chat-header h1 {
            font-size: 22px;
            margin-bottom: 3px;
        }

        .chat-header p {
            opacity: 0.9;
            font-size: 13px;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8fafc;
            min-height: 0;
        }

        .message {
            margin-bottom: 12px;
            display: flex;
            align-items: flex-start;
            max-width: 100%;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 85%;
            padding: 10px 14px;
            border-radius: 16px;
            line-height: 1.4;
            word-wrap: break-word;
            overflow-wrap: break-word;
            font-size: 14px;
        }

        .message.eva .message-content {
            background: #e5e7eb;
            color: #374151;
            border-bottom-left-radius: 4px;
        }

        .message.user .message-content {
            background: #1f2937;
            color: white;
            border-bottom-right-radius: 4px;
        }

        .avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            margin-right: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
            flex-shrink: 0;
        }

        .message.eva .avatar {
            background: #dc2626;
            color: white;
        }

        .message.user .avatar {
            background: #1f2937;
            color: white;
            margin-right: 0;
            margin-left: 8px;
        }

        .chat-input {
            padding: 15px;
            background: white;
            border-top: 1px solid #e5e7eb;
            flex-shrink: 0;
        }

        .input-container {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .input-container input {
            flex: 1;
            padding: 10px 14px;
            border: 2px solid #e5e7eb;
            border-radius: 20px;
            outline: none;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .input-container input:focus {
            border-color: #dc2626;
        }

        .send-button {
            padding: 10px 16px;
            background: #dc2626;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
            font-size: 14px;
        }

        .send-button:hover {
            background: #b91c1c;
        }

        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin: 10px 0;
        }

        .suggestion {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            padding: 6px 10px;
            border-radius: 12px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .suggestion:hover {
            background: #dc2626;
            color: white;
        }

        .tutorial-link {
            color: #dc2626;
            text-decoration: none;
            font-weight: 500;
        }

        .tutorial-link:hover {
            text-decoration: underline;
        }

        .typing {
            display: none;
            align-items: center;
            gap: 5px;
            color: #6b7280;
            font-style: italic;
            padding: 10px 15px;
        }

        .typing-dots {
            display: flex;
            gap: 2px;
        }

        .typing-dot {
            width: 4px;
            height: 4px;
            background: #6b7280;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-6px); }
        }

        /* Scrollbar personalizada */
        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: #dc2626;
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: #b91c1c;
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 5px;
            }
            
            .chat-container {
                height: 98vh;
                border-radius: 15px;
            }
            
            .message-content {
                max-width: 90%;
                font-size: 13px;
            }
            
            .suggestion {
                font-size: 10px;
                padding: 5px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>üéì EVA - Centro de e-Learning UTN</h1>
            <p>Tu Asistente Virtual de Educaci√≥n a Distancia</p>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message eva">
                <div class="avatar">E</div>
                <div class="message-content">
                    ¬°Hola! Soy EVA, tu asistente del Centro de e-Learning UTN. Puedo ayudarte con:
                    <br><br>
                    üéì <strong>Conceptos</strong>: SIED, flexibilidad educativa<br>
                    üõ†Ô∏è <strong>Herramientas</strong>: Moodle, SIGEAD<br>
                    üìö <strong>Recursos</strong>: tutoriales, materiales<br>
                    üìã <strong>Metodolog√≠a</strong>: evaluaci√≥n, objetivos
                    <br><br>
                    ¬øEn qu√© puedo ayudarte?
                </div>
            </div>
            
            <div class="suggestions">
                <div class="suggestion" onclick="sendSuggestion('¬øQu√© es el SIED?')">SIED UTN</div>
                <div class="suggestion" onclick="sendSuggestion('Sincron√≠a vs asincron√≠a')">Sincron√≠a/Asincron√≠a</div>
                <div class="suggestion" onclick="sendSuggestion('Configurar cuestionarios')">Cuestionarios</div>
                <div class="suggestion" onclick="sendSuggestion('Herramientas externas')">Herramientas</div>
                <div class="suggestion" onclick="sendSuggestion('Tutoriales disponibles')">Tutoriales</div>
                <div class="suggestion" onclick="sendSuggestion('Objetivos de aprendizaje')">Objetivos</div>
            </div>
        </div>
        
        <div class="typing" id="typing">
            <div class="avatar">E</div>
            <span>EVA est√° escribiendo</span>
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>
        
        <div class="chat-input">
            <div class="input-container">
                <input type="text" id="messageInput" placeholder="Escribe tu pregunta aqu√≠..." onkeypress="handleKeyPress(event)">
                <button class="send-button" onclick="sendMessage()">Enviar</button>
            </div>
        </div>
    </div>

    <script>
        // Base de conocimiento extra√≠da de los documentos
        const knowledgeBase = {
            "flexibilidad": {
                keywords: ["flexibilidad", "flexible", "flexibles"],
                content: "La flexibilidad en educaci√≥n se divide en dos tipos:\n\n**Flexibilidad Log√≠stica**: Posibilidades tecnol√≥gicas para comunicaci√≥n, tratamiento de informaci√≥n y manejo de documentos, permitiendo traspasar barreras espacio-temporales.\n\n**Flexibilidad Pedag√≥gica**: Ampl√≠a y enriquece la forma de aprender mediante mejor aprendizaje social, nuevos modelos y formas de crear conocimiento."
            },
            "educacion_distancia": {
                keywords: ["educaci√≥n a distancia", "ead", "virtual", "remoto", "online"],
                content: "**Educaci√≥n a Distancia (EaD)**: Recurso pedag√≥gico que desarrolla procesos de ense√±anza y aprendizaje con diversos medios, permitiendo interacci√≥n entre docentes y alumnos en diferentes lugares y tiempos.\n\n**Ventajas**:\n‚Ä¢ Ampliaci√≥n del acceso educativo\n‚Ä¢ Flexibilidad temporal y geogr√°fica\n‚Ä¢ Seguimiento individualizado\n‚Ä¢ Registro completo del proceso"
            },
            "sied": {
                keywords: ["sied", "sistema institucional", "acreditado", "coneau", "utn"],
                content: "**SIED (Sistema Institucional de Educaci√≥n a Distancia)**\n\nLa UTN cuenta con un SIED acreditado por CONEAU desde 2017 (Ordenanza 1627).\n\n**Caracter√≠sticas**:\n‚Ä¢ Unidad exclusiva y especializada\n‚Ä¢ Miembros dedicados a la modalidad\n‚Ä¢ Garantiza calidad y est√°ndares\n‚Ä¢ Incluye equipos de dise√±o, tutor√≠a y apoyo t√©cnico"
            },
            "rol_docente": {
                keywords: ["docente", "profesor", "ense√±ante", "rol", "maestro", "tutor"],
                content: "**Rol docente distribuido** en EaD:\n\n**Equipo de dise√±o**: Contenidista, dise√±adores pedag√≥gicos y multimedia\n**Equipo de tutor√≠a**: Coordinador, tutores, asesores\n**Equipos de apoyo**: Unidades tecnol√≥gicas y acad√©micas\n\n**Cambios clave**:\n‚Ä¢ De transmisor a mediador\n‚Ä¢ Trabajo en equipo constante\n‚Ä¢ Todo queda registrado y visible"
            },
            "sincronia_asincronia": {
                keywords: ["sincron√≠a", "asincron√≠a", "tiempo real", "diferido", "horarios"],
                content: "**Sincron√≠a**: Educaci√≥n en tiempo real\n‚Ä¢ Videoconferencias en vivo\n‚Ä¢ Chats instant√°neos\n‚Ä¢ Horarios espec√≠ficos\n‚Ä¢ Interacci√≥n inmediata\n\n**Asincron√≠a**: Educaci√≥n diferida\n‚Ä¢ Videos pregrabados\n‚Ä¢ Materiales 24/7\n‚Ä¢ Flexibilidad horaria\n‚Ä¢ Ideal para diferentes zonas horarias"
            },
            "campus_virtual": {
                keywords: ["campus virtual", "moodle", "plataforma", "aula virtual"],
                content: "**Moodle**: Plataforma LCM de c√≥digo abierto\n\n**Organizaci√≥n**:\n‚Ä¢ Secci√≥n INICIO: programa, cronograma\n‚Ä¢ Semanas/Temas: contenidos organizados\n‚Ä¢ Foro de Novedades\n‚Ä¢ Perfil con foto (esencial)\n\n**Importancia de la foto**: Identificaci√≥n, confianza, reconocimiento, humanizaci√≥n de la experiencia virtual"
            },
            "evaluacion": {
                keywords: ["evaluaci√≥n", "examen", "calificaci√≥n", "r√∫brica", "criterios"],
                content: "**Tipos de evaluaci√≥n**:\n\n‚Ä¢ **Diagn√≥stica**: Conocimientos previos\n‚Ä¢ **Formativa**: Durante el proceso\n‚Ä¢ **Sumativa**: Al final del curso\n‚Ä¢ **De proficiencia**: Competencias generales\n\n**Caracter√≠sticas de calidad**:\n‚Ä¢ Sistem√°tica, integral, formativa\n‚Ä¢ Continua, flexible, recurrente\n‚Ä¢ Con criterios claros y r√∫bricas"
            },
            "materiales": {
                keywords: ["materiales", "contenidos", "curadur√≠a", "unidad did√°ctica"],
                content: "**Estructura de unidad did√°ctica**:\n‚Ä¢ T√≠tulo representativo\n‚Ä¢ Objetivos medibles (3-4)\n‚Ä¢ √çndice jerarquizado\n‚Ä¢ Introducci√≥n\n‚Ä¢ Conexiones entre temas\n‚Ä¢ Cierre/resumen\n\n**Curadur√≠a**: Selecci√≥n y organizaci√≥n de recursos educativos de calidad (videos, art√≠culos, simulaciones, podcasts)"
            },
            "objetivos": {
                keywords: ["objetivos", "competencias", "logros", "metas"],
                content: "**Objetivos bien redactados**:\n\n**Pregunta clave**: ¬øQu√© podr√°n hacer los estudiantes al final?\n\n**Caracter√≠sticas**:\n‚Ä¢ Medibles con criterios claros\n‚Ä¢ Observables emp√≠ricamente\n‚Ä¢ Alcanzables en tiempo/recursos\n‚Ä¢ Con verbos de acci√≥n espec√≠ficos\n\n**Inicio sugerido**: 'Que los estudiantes logren...'"
            },
            "herramientas_externas": {
                keywords: ["padlet", "chatgpt", "vocaroo", "mentimeter", "herramientas"],
                content: "**Herramientas externas populares**:\n\n**Padlet**: Muro colaborativo multimedia\n**ChatGPT**: IA para contenido y evaluaciones\n**Vocaroo**: Grabaci√≥n de audio simple\n**Mentimeter**: Interacci√≥n y participaci√≥n\n\nEstas herramientas enriquecen la experiencia educativa virtual."
            }
        };

        const tutorials = [
            {
                title: "Ingresar a SIGEAD por primera vez",
                url: "https://youtu.be/xI76fJ5uv_c"
            },
            {
                title: "Configuraci√≥n de cuestionario en Moodle",
                url: "https://youtu.be/WRVQsvuHnpY"
            },
            {
                title: "Actualizaci√≥n de Aulas para Materias y Ex√°menes",
                url: "https://view.genially.com/66bb70c66b142672fd380504/guide-actualizacion-de-aulas"
            },
            {
                title: "Creaci√≥n de grupos autom√°tica",
                url: "https://youtu.be/alHRVEmy6xY"
            },
            {
                title: "Descargar calificaciones con usuarios suspendidos",
                url: "https://youtu.be/ETVZlDAKx_Y"
            },
            {
                title: "Carga de notas en SIGAD con CSV",
                url: "https://youtu.be/AEdccUbegqM"
            },
            {
                title: "Tips para gesti√≥n de clases de Zoom",
                url: "https://view.genially.com/660db6e09bb2a80014e192fd/interactive-content-tips-para-clases-de-zoom"
            },
            {
                title: "Importar notas al calificador de Moodle",
                url: "https://youtu.be/1NW5p5CjYB8"
            },
            {
                title: "Crear un libro de Moodle desde Word",
                url: "https://view.genially.com/66e464958ebea355c9720ebe/presentation-libro-moodle"
            },
            {
                title: "Crear bases de preguntas con IA",
                url: "https://youtu.be/GqDYgH4vFyc"
            },
            {
                title: "Configuraci√≥n del calificador - Nivel inicial",
                url: "https://view.genially.com/67d4693a7b7a1e02c971ad57/interactive-content-configuracion-del-calificador-nivel-inicial"
            },
            {
                title: "Configuraci√≥n del calificador - Nivel intermedio",
                url: "https://view.genially.com/67d5c3b87b7a1e02c968a918/interactive-content-configuracion-del-calificador-nivel-intermedio"
            },
            {
                title: "Configuraci√≥n del calificador - Nivel avanzado",
                url: "https://view.genially.com/67ec21eb10a1231600e04f9f/interactive-content-configuracion-del-calificador-nivel-avanzado"
            },
            {
                title: "Generador de f√≥rmulas",
                url: "https://centrodeelearning.com/files/generador-de-formulas.html"
            },
            {
                title: "Tutorial Padlet",
                url: "https://youtu.be/P-e3NQsSjfw?feature=shared"
            },
            {
                title: "Tutorial ChatGPT",
                url: "https://youtu.be/PR2bVLgdylM"
            },
            {
                title: "Tutorial Vocaroo",
                url: "https://youtu.be/0dgV_mI43H0"
            },
            {
                title: "Tutorial Mentimeter",
                url: "https://youtu.be/y5MeFJ1S638"
            },
            {
                title: "Agregar foto de perfil",
                url: "https://www.youtube.com/watch?v=FRZ-Z7_kX_k"
            },
            {
                title: "Calendario Acad√©mico 2024",
                url: "https://centrodeelearning.com/documentos/calendario_academico_2024_carreras.pdf"
            },
            {
                title: "Criterios de evaluaci√≥n",
                url: "https://centrodeelearning.com/files/Criterios%20y%20metodolog√≠a%20de%20evaluaci√≥n.pdf"
            }
        ];

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendSuggestion(text) {
            document.getElementById('messageInput').value = text;
            sendMessage();
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            addMessage(message, 'user');
            input.value = '';
            
            showTyping();
            
            setTimeout(() => {
                hideTyping();
                const response = generateResponse(message);
                addMessage(response, 'eva');
            }, 800 + Math.random() * 800);
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'avatar';
            avatar.textContent = sender === 'eva' ? 'E' : 'U';
            
            const content = document.createElement('div');
            content.className = 'message-content';
            content.innerHTML = formatMessage(text);
            
            if (sender === 'eva') {
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(content);
            } else {
                messageDiv.appendChild(content);
                messageDiv.appendChild(avatar);
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function formatMessage(text) {
            text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            text = text.replace(/\n/g, '<br>');
            text = text.replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank" class="tutorial-link">$1</a>');
            return text;
        }

        function showTyping() {
            document.getElementById('typing').style.display = 'flex';
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTyping() {
            document.getElementById('typing').style.display = 'none';
        }

        function generateResponse(message) {
            const messageLower = message.toLowerCase();
            
            if (messageLower.includes('tutorial') || messageLower.includes('video') || messageLower.includes('enlace')) {
                return generateTutorialResponse(messageLower);
            }
            
            for (const [topic, data] of Object.entries(knowledgeBase)) {
                for (const keyword of data.keywords) {
                    if (messageLower.includes(keyword)) {
                        return data.content;
                    }
                }
            }
            
            if (messageLower.includes('cuestionario') || messageLower.includes('examen') || messageLower.includes('evaluaci√≥n')) {
                return "**Evaluaciones en Moodle**:\n\n‚Ä¢ **Configurar cuestionarios**: " + 
                       tutorials.find(t => t.title.includes('cuestionario')).url + 
                       "\n‚Ä¢ **Crear preguntas con IA**: " + 
                       tutorials.find(t => t.title.includes('IA')).url +
                       "\n‚Ä¢ **Criterios de evaluaci√≥n**: " + 
                       tutorials.find(t => t.title.includes('Criterios')).url +
                       "\n\n¬øNecesitas ayuda espec√≠fica con evaluaciones?";
            }
            
            if (messageLower.includes('calificador') || messageLower.includes('notas')) {
                return "**Calificador de Moodle por niveles**:\n\n" +
                       "‚Ä¢ **Inicial**: " + tutorials.find(t => t.title.includes('inicial')).url + "\n" +
                       "‚Ä¢ **Intermedio**: " + tutorials.find(t => t.title.includes('intermedio')).url + "\n" +
                       "‚Ä¢ **Avanzado**: " + tutorials.find(t => t.title.includes('avanzado')).url + "\n\n" +
                       "Tambi√©n: importar notas y trabajar con CSV.";
            }
            
            return "Puedo ayudarte con:\n\nüéì **Conceptos**: SIED, flexibilidad educativa\nüõ†Ô∏è **Herramientas**: Moodle, SIGEAD\nüìö **Recursos**: tutoriales, materiales\nüìã **Metodolog√≠a**: evaluaci√≥n, objetivos\n\n**Ejemplos**:\n‚Ä¢ '¬øQu√© es el SIED?'\n‚Ä¢ 'Sincron√≠a vs asincron√≠a'\n‚Ä¢ 'Configurar cuestionarios'\n‚Ä¢ 'Herramientas externas'";
        }

        function generateTutorialResponse(message) {
            if (message.includes('todos') || message.includes('disponibles')) {
                let response = "**Tutoriales disponibles**:\n\n";
                tutorials.slice(0, 8).forEach((tutorial, index) => {
                    response += `${index + 1}. **${tutorial.title}**\n   ${tutorial.url}\n\n`;
                });
                response += "¬øNecesitas alg√∫n tutorial espec√≠fico?";
                return response;
            }
            
            const matchedTutorials = tutorials.filter(t => 
                message.split(' ').some(word => 
                    t.title.toLowerCase().includes(word)
                )
            );
            
            if (matchedTutorials.length > 0) {
                let response = "**Tutoriales encontrados**:\n\n";
                matchedTutorials.forEach(tutorial => {
                    response += `‚Ä¢ **${tutorial.title}**\n  ${tutorial.url}\n\n`;
                });
                return response;
            }
            
            return "Tengo tutoriales sobre: cuestionarios, calificador, SIGEAD, Zoom, herramientas externas, etc. ¬øQu√© tema te interesa?";
        }
    </script>
</body>
</html>
